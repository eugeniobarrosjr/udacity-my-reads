(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a.p+"static/media/defbookcover.9a0ece9c.jpg"},222:function(e,t,a){e.exports=a(389)},389:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),c=a(10),s=a(19),l=a.n(s),u=a(33),d=a(28),h=a(29),f=a(31),p=a(30),m=a(32),b=a(62),k=a.n(b),g=a(58),v=a.n(g),E={root:{position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:999,top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(245, 245, 245, 0.2)"}},y=Object(c.withStyles)(E)(function(e){var t=e.classes;return r.a.createElement("div",{className:t.root},r.a.createElement(v.a,null))}),w=a(391),x=a(393),j=a(392),O=a(9),B=function(){return{formControl:{paddingLeft:14},label:{paddingLeft:18}}},S=a(90),D="https://reactnd-books-api.udacity.com",N=localStorage.token;N||(N=localStorage.token=Math.random().toString(36).substr(-8));var R={Accept:"application/json",Authorization:N},C=function(){return fetch("".concat(D,"/books"),{headers:R}).then(function(e){return e.json()}).then(function(e){return e.books})},L=function(e){return fetch("".concat(D,"/search"),{method:"POST",headers:Object(S.a)({},R,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={shelf:"none"},a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.book.shelf;this.setState(function(){return{shelf:e}})}},{key:"render",value:function(){var e=this,t=this.state.shelf,a=this.props,n=a.classes,o=a.book,i=a.updateBookDetails;return r.a.createElement("form",{autoComplete:"off"},r.a.createElement(O.g,{className:n.formControl},r.a.createElement(O.j,{className:n.label,htmlFor:"books-type"},"Move to..."),r.a.createElement(O.l,{style:{width:175},autoWidth:!0,value:t,onChange:function(t){(function(e,t){return fetch("".concat(D,"/books/").concat(e.id),{method:"PUT",headers:Object(S.a)({},R,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})})(o,t.target.value).then(function(){return i()}),e.setState({shelf:t.target.value})}},r.a.createElement(O.k,{value:"",disabled:!0},"Move to..."),r.a.createElement(O.k,{value:"currentlyReading"},"Currently Reading"),r.a.createElement(O.k,{value:"wantToRead"},"Want to Read"),r.a.createElement(O.k,{value:"read"},"Read"),r.a.createElement(O.k,{value:"none"},"None"))))}}]),t}(n.Component),M=Object(c.withStyles)(B)(T),A=a(143),F=a.n(A),I=function(){return{card:{display:"flex",margin:10,width:400,flexDirection:"column"},details:{display:"flex",flexDirection:"row"},content:{flex:"1 0 auto",width:300},cover:{width:151,height:130,borderTopLeftRadius:0,borderBottomLeftRadius:0}}},W=Object(c.withStyles)(I)(function(e){var t=e.classes,a=e.updateBookDetails,n=e.book;return r.a.createElement(O.b,{key:n.id,className:t.card},r.a.createElement("div",{className:t.details},r.a.createElement(O.d,{className:t.content},r.a.createElement(O.n,{variant:"h6",color:"textPrimary"},n.title),r.a.createElement(O.n,{variant:"subtitle2",color:"textSecondary"},n.authors||"")),r.a.createElement(O.e,{className:t.cover,image:n.imageLinks?n.imageLinks.thumbnail:F.a,title:n.title})),r.a.createElement(O.f,null),r.a.createElement(O.c,null,r.a.createElement(M,{book:n,updateBookDetails:a})))}),P=function(){return{container:{display:"flex",margin:20,flexDirection:"column"},title:{paddingLeft:7},booksContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"}}},J=Object(c.withStyles)(P)(function(e){var t=e.classes,a=e.typeOfShelf,n=e.books,o=e.updateBookDetails,i=e.title;return r.a.createElement("div",{className:t.container},r.a.createElement(O.n,{className:t.title,variant:"h4",color:"textPrimary"},i),r.a.createElement("div",{className:t.booksContainer},n.map(function(e){return e.shelf===a&&r.a.createElement(W,{key:e.id,book:e,updateBookDetails:o})})))}),z=a(59),Q=a.n(z),q=a(60),G=a.n(q),H=a(61),U=a.n(H),K=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Q.a,{position:"static",color:"primary"},r.a.createElement(G.a,null,r.a.createElement(U.a,{variant:"h6",color:"inherit",align:"center"},"My Reads"))))},V=a(45),X=a.n(V),Y=a(144),Z=a.n(Y),$=a(390),_=function(){return{fab:{margin:0,top:"auto",left:"auto",bottom:30,right:30,position:"fixed"}}},ee=Object(c.withStyles)(_)(function(e){var t=e.classes;return r.a.createElement($.a,{to:"/search"},r.a.createElement(X.a,{variant:"fab",color:"secondary",className:t.fab},r.a.createElement(Z.a,null)))}),te=function(e){var t=e.books,a=e.updateBookDetails;return r.a.createElement(n.Fragment,null,r.a.createElement(K,null),r.a.createElement(J,{books:t,title:"Currently Reading",typeOfShelf:"currentlyReading",updateBookDetails:a}),r.a.createElement(J,{books:t,title:"Want to Read",typeOfShelf:"wantToRead",updateBookDetails:a}),r.a.createElement(J,{title:"Read",books:t,typeOfShelf:"read",updateBookDetails:a}),r.a.createElement(ee,null))},ae=a(145),ne=a(146),re=a.n(ne),oe=a(147),ie=a.n(oe),ce=a(148),se=a.n(ce),le=a(34),ue=a(24),de=function(e){return{root:{width:"100%"},grow:{flexGrow:1},arrowBackButton:{marginLeft:-12,marginRight:20,color:"#fff"},title:Object(le.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(le.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(ue.fade)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(ue.fade)(e.palette.common.white,.25)},marginRight:2*e.spacing.unit,marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:3*e.spacing.unit,width:"auto"}),searchIcon:{width:9*e.spacing.unit,height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit",width:"100%"},inputInput:Object(le.a)({paddingTop:e.spacing.unit,paddingRight:e.spacing.unit,paddingBottom:e.spacing.unit,paddingLeft:10*e.spacing.unit,transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),booksContainer:{display:"flex",flexDirection:"row",flexWrap:"wrap"},subtitle:{position:"fixed",top:"50%",width:"100%",alignText:"center",height:"100%"}}},he=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],searchingBooks:[],loading:!1,bookFound:!0},a.searchingBooks={},a.searchQuery=function(){var e=Object(u.a)(l.a.mark(function e(t){var n,r;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.books,"undefined"!==t.target.value&&""!==t.target.value){e.next=5;break}a.setState(function(){return{searchingBooks:[],loading:!1}}),e.next=18;break;case 5:if(!new RegExp(re()(t.target.value),"i").test(t.target.value)){e.next=18;break}return e.prev=7,a.setState(function(){return{loading:!0,bookFound:!0}}),e.next=11,L(t.target.value);case 11:r=e.sent,Array.isArray(r)?(a.searchingBooks=r,void 0!==a.searchingBooks&&a.searchingBooks instanceof Array&&(a.searchingBooks.forEach(function(e){n.forEach(function(t){e.id===t.id?e.shelf=t.shelf:e.shelf="none"})}),a.setState({searchingBooks:a.searchingBooks,loading:!1}))):a.setState(function(){return{loading:!1,bookFound:!1,searchingBooks:[]}}),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(7),new Error(e.t0);case 18:case"end":return e.stop()}},e,this,[[7,15]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:t=e.sent,this.setState(function(){return{books:t}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.updateBookDetails,n=this.state,o=n.searchingBooks,i=n.loading,c=n.bookFound;return r.a.createElement("div",{className:t.root},i&&r.a.createElement(y,null),r.a.createElement(O.a,{position:"static"},r.a.createElement(O.m,null,r.a.createElement($.a,{to:"/"},r.a.createElement(O.h,{className:t.arrowBackButton,color:"inherit","aria-label":"Open drawer"},r.a.createElement(ie.a,null))),r.a.createElement(O.n,{className:t.title,variant:"h6",color:"inherit",noWrap:!0},"My Reads"),r.a.createElement("div",{className:t.search},r.a.createElement("div",{className:t.searchIcon},r.a.createElement(se.a,null)),r.a.createElement(ae.Debounce,{time:"400",handler:"onChange"},r.a.createElement(O.i,{placeholder:"Search\u2026",onChange:this.searchQuery,classes:{root:t.inputRoot,input:t.inputInput}}))),r.a.createElement("div",{className:t.grow}))),r.a.createElement("div",{className:t.booksContainer},!1===c&&r.a.createElement(O.n,{variant:"h5",align:"center",color:"textPrimary",className:t.subtitle},"No results found"),o.map(function(e){return r.a.createElement(W,{key:e.id,book:e,updateBookDetails:a})})))}}]),t}(n.Component),fe=Object(c.withStyles)(de)(he),pe=function(e){var t=e.books,a=e.updateBookDetails;return r.a.createElement(w.a,{basename:"/udacity-my-reads"},r.a.createElement(x.a,null,r.a.createElement(j.a,{exact:!0,path:"/",render:function(){return r.a.createElement(te,{books:t,updateBookDetails:a})}}),r.a.createElement(j.a,{path:"/search",render:function(){return r.a.createElement(fe,{updateBookDetails:a})}})))},me=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],loading:!1},a.updateBookDetails=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState(function(){return{loading:!0}}),e.prev=1,e.next=4,C();case 4:t=e.sent,a.setState(function(){return{books:t,loading:!1}}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])})),a}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C();case 3:t=e.sent,this.setState(function(){return{books:t}}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.books,a=e.loading;return r.a.createElement(n.Fragment,null,a&&r.a.createElement(y,null),r.a.createElement(k.a,null),r.a.createElement(pe,{books:t,updateBookDetails:this.updateBookDetails}))}}]),t}(n.Component),be=Object(c.createMuiTheme)({palette:{primary:{light:"#5f7481",main:"#344955",dark:"#0b222c"},secondary:{light:"#ffdc65",main:"#f9aa33",dark:"#c17b00"},text:{header:"#17262A"},background:{default:"#e1e2e1"}},typography:{fontFamily:"'Work Sans', 'Roboto'",h6:{lineHeight:1.2,fontSize:"1.1rem",fontWeight:600}}});i.a.render(r.a.createElement(c.MuiThemeProvider,{theme:be},r.a.createElement(me,null)),document.getElementById("root"))}},[[222,2,1]]]);
//# sourceMappingURL=main.d9238b82.chunk.js.map